---

- name: Copy mirrorlist
  copy: src=mirrorlist dest=/etc/pacman.d
  become: yes

- name: Install apps
  pacman: name={{ item }} state=present update_cache=yes
  become: yes
  with_items:
    - bash-completion
    - git                   # commit everything
    - pass
    - transmission-gtk
    - vlc
    - xclip                 # cli clipboard management
    - xdotool               # so vimtex knows if the pdf viewer is already open
    - zathura
    - zathura-pdf-mupdf
    - ruby
    - python-pip
    - task
    - openssh
    - chromium
    - xf86-input-synaptics
    - tlp
    - pkgfile
    - sshfs

- name: Copy git config
  copy: src={{ item }} dest=~/.{{ item }}
  with_items:
    - gitconfig
    - gitattributes

- name: Start dhcpcd service
  service: name=dhcpcd state=started enabled=yes
  become: yes

- name: Start tlp service
  service: name={{ item }} state=started enabled=yes
  become: yes
  with_items:
    - tlp
    - tlp-sleep

- include: nvim.yml
- include: latex.yml
- include: terminal.yml
- include: gpg.yml
- include: jabber.yml
- include: mutt.yml
- include: i3.yml
- include: vagrant.yml
- include: fonts.yml
- include: laptop.yml
  when: ansible_product_name == "Latitude E7250"
